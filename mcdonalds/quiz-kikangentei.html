<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>æœŸé–“é™å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚¯ã‚¤ã‚º</title>
<style>
body { font-family: "Segoe UI", sans-serif; margin:0; background:#f8f5ef; }
header { background:#d61c1c; color:white; text-align:center; padding:1rem; font-size:1.5rem; font-weight:bold; }
.container { display:flex; height:calc(100vh - 80px); }
.choices { flex:1; background:#fff3e0; padding:1rem; overflow-y:auto; border-right:3px solid #eee; }
.choices h3 { margin-top:1rem; margin-bottom:0.5rem; border-bottom:2px solid #d61c1c; display:inline-block; padding-bottom:2px; }
.choices button { display:block; width:95%; margin:0.25rem auto; padding:0.5rem; background:white; border:2px solid #d61c1c; border-radius:8px; cursor:pointer; transition:0.2s; }
.choices button:hover { background:#ffe0e0; }
.quiz-area { flex:2; padding:1.5rem; overflow-y:auto; }
.quiz-area h2 { margin-bottom:1rem; }
.stack-area { margin:1rem 0; min-height:120px; padding:1rem; border:2px dashed #aaa; border-radius:8px; background:#fff; }
.stack-item { padding:4px 8px; margin:4px 0; background:#ffe; border:1px solid #ccc; border-radius:4px; }
.controls { margin-top:1rem; }
.controls button { margin-right:0.5rem; padding:0.5rem 1rem; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
.btn-check { background:#4caf50; color:white; }
.btn-reset { background:#d61c1c; color:white; }
.btn-undo { background:#ffa000; color:white; }
.result { margin-top:1rem; padding:1rem; border-radius:8px; }
.correct { background:#e0ffe0; border:2px solid #4caf50; }
.wrong { background:#ffe0e0; border:2px solid #d61c1c; }
.result img { max-width:200px; margin-top:1rem; display:block; }
.answer-list { margin-top:1rem; background:#f8f8f8; padding:0.5rem; border-radius:6px; }
</style>
</head>
<body>
<header>ğŸ” æœˆè¦‹ãƒãƒ¼ã‚¬ãƒ¼ã‚¯ã‚¤ã‚º ğŸ”</header>
<div class="container">
  <div class="choices" id="choices"></div>
  <div class="quiz-area">
    <h2 id="question">ãƒãƒ¼ã‚¬ãƒ¼ã‚’é¸ã‚“ã§ã­</h2>
    <div class="stack-area" id="stack">æ­£ã—ã„é †ã«å…·æã‚’ç©ã¿ä¸Šã’ã¦å®Œæˆã•ã›ã‚ˆã†ï¼</div>
    <div class="controls">
      <button class="btn-check" onclick="checkAnswer()">å›ç­”ã™ã‚‹</button>
      <button class="btn-undo" onclick="undoChoice()">æˆ»ã‚‹</button>
      <button class="btn-reset" onclick="resetQuiz()">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
    <div id="result" class="result"></div>
  </div>
</div>

<script>
const burgers = {
  "æœˆè¦‹ãƒãƒ¼ã‚¬ãƒ¼":[
    "ã‚»ã‚µãƒŸãƒãƒ³ã‚ºï¼ˆã‚¯ãƒ©ã‚¦ãƒ³ï¼‰",
    "ãƒˆãƒãƒˆã‚¯ãƒªãƒ¼ãƒŸãƒ¼ã‚½ãƒ¼ã‚¹",
    "ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ™ãƒ¼ã‚³ãƒ³",
    "ã‚¨ãƒƒã‚°",
    "10:1ãƒ‘ãƒ†ã‚£",
    "ã‚»ã‚µãƒŸãƒãƒ³ã‚ºï¼ˆãƒ’ãƒ¼ãƒ«ï¼‰"
  ],
  "ãƒãƒ¼ã‚ºæœˆè¦‹":[
    "ã‚»ã‚µãƒŸãƒãƒ³ã‚ºï¼ˆã‚¯ãƒ©ã‚¦ãƒ³ï¼‰",
    "ãƒˆãƒãƒˆã‚¯ãƒªãƒ¼ãƒŸãƒ¼ã‚½ãƒ¼ã‚¹",
    "ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ™ãƒ¼ã‚³ãƒ³",
    "ã‚¨ãƒƒã‚°",
    "ã‚¹ãƒ©ã‚¤ã‚¹ãƒãƒ¼ã‚º",
    "10:1ãƒ‘ãƒ†ã‚£",
    "ã‚»ã‚µãƒŸãƒãƒ³ã‚ºï¼ˆãƒ’ãƒ¼ãƒ«ï¼‰"
  ],
  "ã¨ã‚æ—¨ã™ãç„¼ãæœˆè¦‹":[
    "ãµã‚ã‚‚ã¡ãƒãƒ³ã‚ºï¼ˆã‚¯ãƒ©ã‚¦ãƒ³ï¼‰",
    "ãƒˆãƒãƒˆã‚¯ãƒªãƒ¼ãƒŸãƒ¼ã‚½ãƒ¼ã‚¹",
    "ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ™ãƒ¼ã‚³ãƒ³",
    "ã‚¨ãƒƒã‚°",
    "ã‚¹ãƒ©ã‚¤ã‚¹ãƒãƒ¼ã‚º",
    "10:1ãƒ‘ãƒ†ã‚£",
    "ã™ãã‚„ããƒ•ã‚£ãƒªãƒ³ã‚°",
    "ãµã‚ã‚‚ã¡ãƒãƒ³ã‚ºï¼ˆãƒ’ãƒ¼ãƒ«ï¼‰"
  ]
};

// æ—¥æœ¬èªå â†’ ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«å
const burgerImages = {
  "æœˆè¦‹ãƒãƒ¼ã‚¬ãƒ¼": "tsukimi.webp",
  "ãƒãƒ¼ã‚ºæœˆè¦‹": "cheese_tsukimi.webp",
  "ã¨ã‚æ—¨ã™ãç„¼ãæœˆè¦‹": "sukiyaki_tsukimi.webp"
};

const ingredients = {
  "ãƒãƒ³ã‚º":[
    "ã‚»ã‚µãƒŸãƒãƒ³ã‚ºï¼ˆã‚¯ãƒ©ã‚¦ãƒ³ï¼‰","ã‚»ã‚µãƒŸãƒãƒ³ã‚ºï¼ˆãƒ’ãƒ¼ãƒ«ï¼‰",
    "ãµã‚ã‚‚ã¡ãƒãƒ³ã‚ºï¼ˆã‚¯ãƒ©ã‚¦ãƒ³ï¼‰","ãµã‚ã‚‚ã¡ãƒãƒ³ã‚ºï¼ˆãƒ’ãƒ¼ãƒ«ï¼‰"
  ],
  "ã‚½ãƒ¼ã‚¹ç³»":[
    "ãƒˆãƒãƒˆã‚¯ãƒªãƒ¼ãƒŸãƒ¼ã‚½ãƒ¼ã‚¹","ã™ãã‚„ããƒ•ã‚£ãƒªãƒ³ã‚°"
  ],
  "ãƒ‘ãƒ†ã‚£ç³»":[
    "10:1ãƒ‘ãƒ†ã‚£"
  ],
  "å…·æ":[
    "ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ™ãƒ¼ã‚³ãƒ³","ã‚¨ãƒƒã‚°","ã‚¹ãƒ©ã‚¤ã‚¹ãƒãƒ¼ã‚º"
  ]
};

let currentBurger, answer=[], attempts=0;

function loadChoices() {
  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML="";
  for(let cat in ingredients){
    let h3=document.createElement("h3");
    h3.textContent=cat;
    choicesDiv.appendChild(h3);
    ingredients[cat].forEach(item=>{
      let btn=document.createElement("button");
      btn.textContent=item;
      btn.onclick=()=>addToStack(item);
      choicesDiv.appendChild(btn);
    });
  }
}

function resetQuiz() {
  const names=Object.keys(burgers);
  currentBurger=names[Math.floor(Math.random()*names.length)];
  document.getElementById("question").textContent=`ã€Œ${currentBurger}ã€ã‚’ä½œã‚ã†ï¼`;
  document.getElementById("stack").innerHTML="æ­£ã—ã„é †ã«å…·æã‚’ç©ã¿ä¸Šã’ã¦å®Œæˆã•ã›ã‚ˆã†ï¼";
  document.getElementById("result").innerHTML="";
  answer=[];
  attempts=0;
}

function addToStack(item){
  answer.push(item);
  const div=document.createElement("div");
  div.className="stack-item";
  div.textContent=item;
  document.getElementById("stack").appendChild(div);
}

function undoChoice(){
  if(answer.length>0){
    answer.pop();
    const stack=document.getElementById("stack");
    stack.removeChild(stack.lastChild);
  }
}

function checkAnswer(){
  attempts++;
  const correct=burgers[currentBurger];
  const resultDiv=document.getElementById("result");
  resultDiv.innerHTML="";

  let img=document.createElement("img");
  img.src=`img/${burgerImages[currentBurger] || "default.webp"}`;

  if(JSON.stringify(answer)===JSON.stringify(correct)){
    resultDiv.className="result correct";
    resultDiv.innerHTML="âœ… æ­£è§£ï¼";
    resultDiv.appendChild(img);
  } else {
    resultDiv.className="result wrong";
    resultDiv.innerHTML=`âŒ ä¸æ­£è§£ï¼ï¼ˆ${attempts}å›ç›®ï¼‰`;
    resultDiv.appendChild(img);
    let ansDiv=document.createElement("div");
    ansDiv.className="answer-list";
    ansDiv.innerHTML="<b>æ­£ã—ã„é †:</b><br>"+correct.join(" â†’ ");
    resultDiv.appendChild(ansDiv);
  }
}

loadChoices();
resetQuiz();
</script>
</body>
</html>
